"use strict";(self["webpackChunkproject_shop"]=self["webpackChunkproject_shop"]||[]).push([[874],{7874:function(t,a,s){s.r(a),s.d(a,{default:function(){return m}});var e=function(){var t=this,a=t._self._c;return a("div",[a("TypeNav"),a("div",{staticClass:"main"},[a("div",{staticClass:"py-container"},[a("div",{staticClass:"bread"},[t._m(0),a("ul",{staticClass:"fl sui-tag"},[t.searchData.categoryName?a("li",{staticClass:"with-x"},[t._v(t._s(t.searchData.categoryName)),a("i",{on:{click:function(a){return t.removeBread("categoryName")}}},[t._v("×")])]):t._e(),t.searchData.keyword?a("li",{staticClass:"with-x"},[t._v(t._s(t.searchData.keyword)),a("i",{on:{click:function(a){return t.removeBread("keyword")}}},[t._v("×")])]):t._e(),t.searchData.trademark?a("li",{staticClass:"with-x"},[t._v(t._s(t.searchData.trademark.split(":")[1])),a("i",{on:{click:function(a){return t.removeBread("trademark")}}},[t._v("×")])]):t._e(),t._l(t.searchData.props,(function(s,e){return a("li",{key:e,staticClass:"with-x"},[t._v(t._s(s.split(":")[1])),a("i",{on:{click:function(a){return t.removeBread("props",e)}}},[t._v("×")])])}))],2)]),a("SearchSelector",{on:{trademarkInfo:t.trademarkInfo,attrInfo:t.attrInfo}}),a("div",{staticClass:"details clearfix"},[a("div",{staticClass:"sui-navbar"},[a("div",{staticClass:"navbar-inner filter"},[a("ul",{staticClass:"sui-nav"},[a("li",{class:{active:t.isOne},on:{click:function(a){return t.changeState("1")}}},[a("a",[t._v("综合"),a("span",{directives:[{name:"show",rawName:"v-show",value:t.isOne,expression:"isOne"}]},[t._v(t._s(t.isDesc?"⬇":"⬆"))])])]),a("li",{class:{active:t.isTwo},on:{click:function(a){return t.changeState("2")}}},[a("a",[t._v("价格"),a("span",{directives:[{name:"show",rawName:"v-show",value:t.isTwo,expression:"isTwo"}]},[t._v(t._s(t.isDesc?"⬇":"⬆"))])])]),t._m(1),t._m(2),t._m(3)])])]),a("div",{staticClass:"goods-list"},[a("ul",{staticClass:"yui3-g"},t._l(t.goodsList,(function(s){return a("li",{key:s.id,staticClass:"yui3-u-1-5"},[a("div",{staticClass:"list-wrap"},[a("div",{staticClass:"p-img"},[a("router-link",{attrs:{to:`/detail/${s.id}`}},[a("img",{directives:[{name:"lazy",rawName:"v-lazy",value:s.defaultImg,expression:"goods.defaultImg"}]})])],1),a("div",{staticClass:"price"},[a("strong",[a("i",[t._v(t._s(s.price)+".00")]),a("em",[t._v("¥")])])]),a("div",{staticClass:"attr"},[a("a",{attrs:{target:"_blank",href:"item.html",title:"促销信息，下单即赠送三个月CIBN视频会员卡！【小米电视新品4A 58 火爆预约中】"}},[t._v(t._s(s.title))])]),t._m(4,!0),t._m(5,!0)])])})),0)]),a("Pagination",{attrs:{pageNo:t.searchData.pageNo,pageSize:t.searchData.pageSize,total:t.searchInfo.total,continues:5},on:{pageInfo:t.pageInfo}})],1)],1)])],1)},r=[function(){var t=this,a=t._self._c;return a("ul",{staticClass:"fl sui-breadcrumb"},[a("li",[a("a",{attrs:{href:"#"}},[t._v("全部结果")])])])},function(){var t=this,a=t._self._c;return a("li",[a("a",{attrs:{href:"#"}},[t._v("销量")])])},function(){var t=this,a=t._self._c;return a("li",[a("a",{attrs:{href:"#"}},[t._v("新品")])])},function(){var t=this,a=t._self._c;return a("li",[a("a",{attrs:{href:"#"}},[t._v("评价")])])},function(){var t=this,a=t._self._c;return a("div",{staticClass:"commit"},[a("i",{staticClass:"command"},[t._v("已有"),a("span",[t._v("2000")]),t._v("人评价")])])},function(){var t=this,a=t._self._c;return a("div",{staticClass:"operate"},[a("a",{staticClass:"sui-btn btn-bordered btn-danger",attrs:{href:"success-cart.html",target:"_blank"}},[t._v("加入购物车")]),a("a",{staticClass:"sui-btn btn-bordered",attrs:{href:"javascript:void(0);"}},[t._v("收藏")])])}],i=(s(7658),s(3822)),c=function(){var t=this,a=t._self._c;return a("div",{staticClass:"clearfix selector"},[a("div",{staticClass:"type-wrap logo"},[a("div",{staticClass:"fl key brand"},[t._v("品牌")]),a("div",{staticClass:"value logos"},[a("ul",{staticClass:"logo-list"},t._l(t.trademarkList,(function(s){return a("li",{key:s.tmId,on:{click:function(a){return t.trademarkHandler(s)}}},[t._v(t._s(s.tmName))])})),0)]),t._m(0)]),t._l(t.attrsList,(function(s){return a("div",{key:s.attrId,staticClass:"type-wrap"},[a("div",{staticClass:"fl key"},[t._v(t._s(s.attrName))]),a("div",{staticClass:"fl value"},[a("ul",{staticClass:"type-list"},t._l(s.attrValueList,(function(e,r){return a("li",{key:r,on:{click:function(a){return t.attrHandler(s,e)}}},[a("a",[t._v(t._s(e))])])})),0)]),a("div",{staticClass:"fl ext"})])}))],2)},o=[function(){var t=this,a=t._self._c;return a("div",{staticClass:"ext"},[a("a",{staticClass:"sui-btn",attrs:{href:"javascript:void(0);"}},[t._v("多选")]),a("a",{attrs:{href:"javascript:void(0);"}},[t._v("更多")])])}],n={name:"SearchSelector",computed:{...(0,i.Se)("search",["attrsList","trademarkList"])},methods:{trademarkHandler(t){this.$emit("trademarkInfo",t)},attrHandler(t,a){this.$emit("attrInfo",t,a)}}},l=n,h=s(1001),d=(0,h.Z)(l,c,o,!1,null,"79e06d90",null),u=d.exports,v={name:"Search",components:{SearchSelector:u},data(){return{searchData:{category1Id:"",category2Id:"",category3Id:"",categoryName:"",keyword:"",order:"1:desc",pageNo:1,pageSize:10,props:[],trademark:""}}},computed:{...(0,i.Se)("search",["goodsList"]),...(0,i.rn)("search",["searchInfo"]),isOne(){return this.searchData.order.includes("1")},isTwo(){return-1!=this.searchData.order.indexOf("2")},isDesc(){return this.searchData.order.includes("desc")}},methods:{getSearchInfo(){this.searchData.categoryName=void 0,this.searchData.category1Id=void 0,this.searchData.category2Id=void 0,this.searchData.category3Id=void 0,this.searchData.keyword=void 0,this.searchData.pageNo=1,Object.assign(this.searchData,this.$route.query,this.$route.params),this.$store.dispatch("search/getSearchInfo",this.searchData)},removeBread(t,a){"categoryName"===t?this.$router.push({name:"search",params:this.$route.params}):"keyword"===t?this.$router.push({name:"search",query:this.$route.query}):"trademark"===t?(this.searchData.trademark=void 0,this.$store.dispatch("search/getSearchInfo",this.searchData)):"props"===t&&(this.searchData.props.splice(a,1),this.$store.dispatch("search/getSearchInfo",this.searchData))},trademarkInfo(t){this.searchData.trademark=`${t.tmId}:${t.tmName}`,this.getSearchInfo()},attrInfo(t,a){const s=`${t.attrId}:${a}:${t.attrName}`;this.searchData.props.includes(s)||this.searchData.props.push(s),this.getSearchInfo()},pageInfo(t){this.searchData.pageNo=t,this.$store.dispatch("search/getSearchInfo",this.searchData)},changeState(t){let a=this.searchData.order.split(":")[0],s=this.searchData.order.split(":")[1],e="";e=t===a?`${t}:${"desc"===s?"asc":"desc"}`:`${t}:desc`,this.searchData.order=e,this.getSearchInfo()}},watch:{$route(){this.getSearchInfo()}},mounted(){this.getSearchInfo()}},f=v,_=(0,h.Z)(f,e,r,!1,null,"5ec05946",null),m=_.exports}}]);