"use strict";(self["webpackChunkproject_shop"]=self["webpackChunkproject_shop"]||[]).push([[179],{4179:function(e,s,t){t.r(s),t.d(s,{default:function(){return c}});var r=function(){var e=this,s=e._self._c;return s("div",{staticClass:"register-container"},[s("div",{staticClass:"register"},[e._m(0),s("div",{staticClass:"content"},[s("label",[e._v("手机号:")]),s("input",{directives:[{name:"model",rawName:"v-model",value:e.phone,expression:"phone"}],attrs:{type:"text",placeholder:"请输入你的手机号"},domProps:{value:e.phone},on:{blur:function(s){return e.validatePhone(e.phone)},input:function(s){s.target.composing||(e.phone=s.target.value)}}}),s("span",{staticClass:"error-msg"},[e._v(e._s(e.errorMsg1))])]),s("div",{staticClass:"content"},[s("label",[e._v("验证码:")]),s("input",{attrs:{type:"text",placeholder:"请输入验证码"},domProps:{value:e.code}}),s("button",{staticStyle:{height:"38px",width:"100px",margin:"5px"},attrs:{disabled:e.disabled},on:{click:e.getCode}},[e._v("获取验证码"),e.disabled?s("span",[e._v("("+e._s(e.count)+"s)")]):e._e()]),s("span",{staticClass:"error-msg"},[e._v("错误提示信息")])]),s("div",{staticClass:"content"},[s("label",[e._v("登录密码:")]),s("input",{directives:[{name:"model",rawName:"v-model",value:e.password,expression:"password"}],attrs:{type:"text",placeholder:"请输入你的登录密码"},domProps:{value:e.password},on:{blur:function(s){return e.validatePassword(e.password)},input:function(s){s.target.composing||(e.password=s.target.value)}}}),s("span",{staticClass:"error-msg"},[e._v(e._s(e.errorMsg2))])]),s("div",{staticClass:"content"},[s("label",[e._v("确认密码:")]),s("input",{directives:[{name:"model",rawName:"v-model",value:e.verifyPassword,expression:"verifyPassword"}],attrs:{type:"text",placeholder:"请输入确认密码"},domProps:{value:e.verifyPassword},on:{blur:e.validateVerifyPassword,input:function(s){s.target.composing||(e.verifyPassword=s.target.value)}}}),s("span",{staticClass:"error-msg"},[e._v(e._s(e.errorMsg3))])]),s("div",{staticClass:"controls"},[s("input",{directives:[{name:"model",rawName:"v-model",value:e.isChecked,expression:"isChecked"}],attrs:{name:"m1",type:"checkbox"},domProps:{checked:Array.isArray(e.isChecked)?e._i(e.isChecked,null)>-1:e.isChecked},on:{change:function(s){var t=e.isChecked,r=s.target,a=!!r.checked;if(Array.isArray(t)){var i=null,o=e._i(t,i);r.checked?o<0&&(e.isChecked=t.concat([i])):o>-1&&(e.isChecked=t.slice(0,o).concat(t.slice(o+1)))}else e.isChecked=a}}}),s("span",[e._v("同意协议并注册《尚品汇用户协议》")]),s("span",{staticClass:"error-msg"},[e._v("错误提示信息")])]),s("div",{staticClass:"btn"},[s("button",{on:{click:e.userRegister}},[e._v("完成注册")])])]),e._m(1)])},a=[function(){var e=this,s=e._self._c;return s("h3",[e._v("注册新用户 "),s("span",{staticClass:"go"},[e._v("我有账号，去 "),s("a",{attrs:{href:"login.html",target:"_blank"}},[e._v("登陆")])])])},function(){var e=this,s=e._self._c;return s("div",{staticClass:"copyright"},[s("ul",[s("li",[e._v("关于我们")]),s("li",[e._v("联系我们")]),s("li",[e._v("联系客服")]),s("li",[e._v("商家入驻")]),s("li",[e._v("营销中心")]),s("li",[e._v("手机尚品汇")]),s("li",[e._v("销售联盟")]),s("li",[e._v("尚品汇社区")])]),s("div",{staticClass:"address"},[e._v("地址：北京市昌平区宏福科技园综合楼6层")]),s("div",{staticClass:"beian"},[e._v("京ICP备19006430号 ")])])}],i={name:"Register",data(){return{phone:"",code:"",password:"",verifyPassword:"",isChecked:"",disabled:!1,count:60,errorMsg1:"",errorMsg2:"",errorMsg3:""}},methods:{async getCode(){try{if(this.phone){this.disabled=!0;let e=setInterval((()=>{this.count-=1,this.count<=0&&(clearInterval(e),this.disabled=!1,this.count=60)}),1e3);await this.$store.dispatch("user/getCode",this.phone),this.code=this.$store.state.user.code}}catch(e){this.code="",alert(e.message)}},async userRegister(){try{let{validatePhone:e,validatePassword:s,validateVerifyPassword:t,phone:r,password:a,code:i,isChecked:o}=this;if(!o)return alert("请同意协议！"),!1;e(r)&&i&&s(a)&&t()&&1==o&&(await this.$store.dispatch("user/userRegister",{phone:r,code:i,password:a}),this.$router.replace("/login"))}catch(e){this.phone="",this.code="",this.password="",this.verifyPassword="",alert(e.message)}},validatePhone(e){console.log(e);const s=/^[1][3,4,5,7,8][0-9]{9}$/;return s.test(e)||""==e?(this.errorMsg1="",!0):(this.errorMsg1="请输入正确的电话号码",!1)},validatePassword(e){const s=/^[0-9a-zA-Z]{6,}$/;return s.test(e)||""==e?(this.errorMsg2="",!0):(this.errorMsg2="密码仅由英文字母，数字以及下划线组成,至少6位",!1)},validateVerifyPassword(){return this.password!=this.verifyPassword?(this.errorMsg3="与密码不一致",!1):(this.errorMsg3="",!0)}}},o=i,n=t(1001),l=(0,n.Z)(o,r,a,!1,null,"05d0b0a3",null),c=l.exports}}]);